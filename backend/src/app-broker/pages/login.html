{{#> layout title=brokerDescription }}
<h1 class="display-2 d-flex justify-content-between">
  <span>IdP {{brokerDescription}}</span>
  <span class="fi fi-{{countryCode}}">&nbsp;</span>
</h1>
<section class="mt-5">
  <form method="post" action="{{loginUrl}}">
    <div class="row mb-3">
      <label for="userInput" class="col-sm-2 col-form-label">Email</label>
      <div class="col-sm-10">
        <select id="userInput" size="10" class="form-control" name="user">
          <option selected value="">-- you must choose a user --</option>
          {{#each users}}
          <option value="{{this}}">{{this}}</option>
          {{/each}}
        </select>
      </div>
    </div>
    <div class="row mb-5">
      <label for="passwordInput" class="col-sm-2 col-form-label"
        >Password</label
      >
      <div class="col-sm-10">
        <input
          type="password"
          class="form-control"
          id="passwordInput"
          disabled
          placeholder="(no password needed)"
        />
      </div>
    </div>
    <div class="row">
      <label class="col-sm-2 col-form-label"></label>
      <div class="col-sm-10">
        <button id="submitButton" class="btn btn-lg btn-success" type="submit">
          Sign in
        </button>
      </div>
    </div>
  </form>
</section>
<script>
  $(document).ready(function () {
    updateFormEnabled();

    function updateFormEnabled() {
      $("#submitButton").prop("disabled", $("#userInput").val() === "");
    }

    $("#userInput").change(updateFormEnabled);
  });
</script>
{{/layout}}
